<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clase 1 – Instalación y Configuración del Entorno</title>
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        line-height: 1.7;
        margin: 0;
        background: linear-gradient(120deg, #e0f7fa 0%, #f8fafc 100%);
        color: #222;
      }
      .container {
        max-width: 900px;
        margin: 32px auto 0 auto;
        padding: 24px;
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 4px 24px rgba(44, 62, 80, 0.08);
      }
      h1 {
        font-size: 2.2em;
        font-weight: bold;
        color: #1976d2;
        margin-bottom: 18px;
        text-align: center;
      }
      h2 {
        font-size: 1.3em;
        color: #1976d2;
        margin-top: 32px;
        margin-bottom: 12px;
        font-weight: bold;
      }
      h3 {
        color: #388e3c;
        margin-top: 24px;
        margin-bottom: 8px;
      }
      ol,
      ul {
        margin: 10px 0 18px 24px;
      }
      li {
        margin-bottom: 8px;
      }
      pre {
        background-color: #e3f2fd;
        padding: 12px 18px;
        border-radius: 8px;
        font-size: 1em;
        margin: 10px 0 18px 0;
        box-shadow: 0 2px 8px rgba(44, 62, 80, 0.06);
        overflow-x: auto;
      }
      .card {
        background: #f5f5f5;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(44, 62, 80, 0.04);
        padding: 18px 20px;
        margin-bottom: 24px;
      }
      .btn {
        display: inline-block;
        padding: 12px 28px;
        background: #1976d2;
        color: #fff;
        border-radius: 8px;
        text-align: center;
        font-weight: bold;
        text-decoration: none;
        margin-top: 18px;
        box-shadow: 0 2px 8px rgba(44, 62, 80, 0.08);
        transition: background 0.2s;
      }
      .btn:hover {
        background: #1565c0;
      }
      @media (max-width: 700px) {
        .container {
          padding: 4px;
          border-radius: 0;
          box-shadow: none;
        }
        h1 {
          font-size: 1.1em;
          margin-bottom: 10px;
        }
        h2 {
          font-size: 1em;
          margin-top: 18px;
          margin-bottom: 8px;
        }
        .card {
          padding: 8px 6px;
          margin-bottom: 14px;
          border-radius: 6px;
          box-shadow: none;
        }
        pre {
          font-size: 0.92em;
          padding: 6px 4px;
          border-radius: 5px;
        }
        .btn {
          width: 100%;
          padding: 12px 0;
          font-size: 1em;
          margin-top: 10px;
        }
        ol,
        ul {
          margin-left: 12px;
        }
        li {
          margin-bottom: 6px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <a href="../materias/usuarios-2.html" class="btn">Volver a Usuarios II</a>
      <a href="usuarios-2-clase-2-workbench.html" class="btn">Ir a Sesión 2</a>
      
      <h1>Clase 1 – Instalación y Configuración del Entorno</h1>

      <div class="card">
        <h2>Objetivos</h2>
        <ol>
          <li>
            Crear un proyecto que conecte frontend, backend y base de datos
            (ddbb).
          </li>
          <li>
            Este proyecto debe incluir las funciones de un CRUD:
            <ul>
              <li>Create / crear</li>
              <li>Read / leer</li>
              <li>Update / actualizar</li>
              <li>Delete / eliminar.</li>
            </ul>
          </li>
          <li>
            Nos ayudaremos con diferentes IA y aprenderemos a enfocar su uso en
            la creación de programas.
          </li>
        </ol>
      </div>

      <div class="card">
        <h2>Introducción</h2>
        <ol>
          <li>
            Qué es un stack de desarrollo (Backend, Frontend, Base de Datos).
          </li>
          <li>Introducción a Python + Flask como servidor web.</li>
          <li>Introducción a MySQL como sistema gestor de BD.</li>
          <li>
            Introducción a HTML, CSS, JS y frameworks CSS (Bootstrap/Tailwind).
          </li>
          <li>Introducción a GIT, GITHUB y GITHUB desktop.</li>
          <li>Introducción al uso de IA para programar.</li>
        </ol>
      </div>

      <div class="card">
        <h2>Práctica</h2>
        <ol>
          <li>
            Instalación de:
            <ul>
              <li>Python 3 y pip.</li>
              <li>MySQL + MySQL Workbench.</li>
              <li>Editor de código / IDE (Visual Studio Code).</li>
              <li>Instalación de Git.</li>
              <li>Crear cuenta en Github.</li>
              <li>Instalación GitHub Desktop.</li>
              <li>Creación de entorno virtual en Python.</li>
              <li>
                Instalación de Flask y librerías necesarias (flask,
                mysql-connector-python).
              </li>
            </ul>
          </li>
          <li>
            Testear:
            <ul>
              <li>Servidor Flask funcional.</li>
            </ul>
          </li>
        </ol>
      </div>

      <div class="card">
        <h2>Instalación Python & virtualenv</h2>
        <ol>
          <li>
            Verificar Python en consola:
            <ul>
              <li>python --version o python3 --version.</li>
            </ul>
          </li>
          <li>
            Abrir Visual Studio Code (VSC):
            <ul>Crear una carpeta en el escritorio con el nombre de su proyecto.</ul>
            <ul>Abrir el cmd y escribir CD seguido de un espacio y desplazar desde el escritorio la carpeta al cmd ( si lo hicieron bien, verán la ruta de su carpeta en el cmd), apretar enter.</ul>
            <ul>Escribir: code . (code seguido de un espacio y un punto) dar a enter nuevamente, si está instalado VSC se abrirá con su carpeta.</ul>
          </li>
          <li>
            Crear venv:
            <ul>
              En VSC abrir consola con ctrl + ñ e insertar el siguiente código:
              <li>
                Para Windows:
                <ol>
                  <li>python -m venv venv</li>
                  <li>venv\Scripts\activate</li>
                </ol>
              </li>
              <li>
                Para macOS/Linux:
                <ol>
                  <li>python3 -m venv venv</li>
                  <li>source venv/bin/activate</li>
                </ol>
              </li>
            </ul>
          </li>
          <li>
            Posibles errores
            <ul>Si no se crea una carpeta con el nombre venv y salen en consola cancelaciones en rojo</ul>
            <ul>Abrimos WINDOWS PowerShell con rango de administrador y ejecutamos:</ul>
            <ul>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser</ul>
            <ul>seleccionar S y apretar enter</ul>
            <ul>ó</ul>
            <ul>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process</ul>
          <ul>Si esto no soluciona el error, posiblemente es una falla en la instalación de python.</ul>
          <ul>Procedemos a ir a agregar y quitar programas y eliminamos lo que encontremos en el buscador al escribir python.</ul>
          <ul>Reiniciamos el PC y procedemos a instalar python.</ul>
          <ul>Durante la instalación prestar atención a las opciones que aparecen.</ul>
          <ul>Verán 2 opciones para tildar, una de ellas menciona el PATH, tildar ambas opciones e instalar.</ul>
          <ul>Puede que aparezca otra opción hablando de la longitud del PATH, pidiendo deshabilitar  la limitación de longitud de ruta, aceptar esa opción.</ul>
          <ul></ul>
          </li>
        </ol>
        <p>Instalar paquetes iniciales:</p>
        <pre>
pip install --upgrade pip
pip install flask
pip install python-dotenv
pip install mysql-connector-python
        </pre>
        <p>Crear requirements.txt al final con:</p>
        <pre>
pip freeze > requirements.txt
        </pre>
      </div>

      <div class="card">
        <h2>Instalación MySQL + Workbench</h2>
        <p>Donde descargar MySQL Community y Workbench.</p>

        <p>Crear base de datos y usuario Workbench</p>

        <p>Ejecutar en Workbench:</p>
        <pre><code>
CREATE DATABASE stock_db;
CREATE USER 'stock_user'@'localhost' IDENTIFIED BY 'tu_password';
GRANT ALL PRIVILEGES ON stock_db.* TO 'stock_user'@'localhost';
FLUSH PRIVILEGES;
            </code></pre>
        <p>
          En <strong>stock_db</strong> nombre que le darán a su base de datos.
        </p>
        <p>En <strong>'stock_user'</strong> su usuario para esta ddbb.</p>
        <p>
          En <strong>‘tu_password'</strong> inventar una contraseña y anotarla.
        </p>
      </div>

      <div class="card">
        <h2>Prueba de conexión desde Python</h2>
        <p>Crear un fichero <strong>.env</strong> en el proyecto con:</p>
        <pre>
DB_HOST=localhost
DB_USER=stock_user
DB_PASS=tu_contraseña
DB_NAME=stock_db
        </pre>
        <p>
          Crear un fichero llamado <strong>test_db.py</strong> e insertar el
          siguiente código:
        </p>
        <pre>
from dotenv import load_dotenv
import os, mysql.connector

load_dotenv()

# Imprime las variables de entorno
print("DB_HOST:", os.getenv("DB_HOST"))
print("DB_USER:", os.getenv("DB_USER"))
print("DB_PASS:", os.getenv("DB_PASS"))
print("DB_NAME:", os.getenv("DB_NAME"))

try:
    conn = mysql.connector.connect(
        host=os.getenv("DB_HOST"),
        user=os.getenv("DB_USER"),
        password=os.getenv("DB_PASS"),
        database=os.getenv("DB_NAME")
    )
    if conn.is_connected():
        print(" Conectado. Backend con ddbb")
    else:
        print("No conectado")
    conn.close()
except mysql.connector.Error as err:
    print("Error al conectar a la ddbb:", err)
        </pre>
        <p>
          Ejecutar <strong>python test_db.py</strong> → mostrar “Conectado
          backend con ddbb”.
        </p>
      </div>

      <div class="card">
        <h2>Hello Flask</h2>
        <p>
          Crear un fichero llamado <strong>app.py</strong> e insertar el
          siguiente código:
        </p>
        <pre>
from flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return 'Servidor Flask funcionando'

if __name__ == '__main__':
    app.run(debug=True)
        </pre>
        <p>
          Ejecutar <strong>python app.py</strong> desde la consola y abrir
          <strong>http://127.0.0.1:5000/</strong>.
        </p>
        <p>De ser exitoso se abrirá el explorador con un mensaje.</p>
      </div>

      <div class="card">
        <h2>Cierre & comprobaciones</h2>
        <ol>
          <li>
            Cada alumno debe mostrar: venv activado, test_db.py ok y app.py
            respondiendo.
          </li>
        </ol>
      </div>

      <div class="card">
        <h2>Errores comunes y soluciones rápidas</h2>
        <ul>
          <li><em>pip no encontrado:</em> usar python -m pip install ...</li>
          <li>
            <em>MySQL: Access denied:</em> revisar user/password y que el
            servidor MySQL esté en ejecución.
          </li>
          <li>
            <em>Puerto 5000 en uso:</em> detener el proceso o ejecutar
            app.run(port=5001).
          </li>
        </ul>
      </div>

      <a href="../materias/usuarios-2.html" class="btn">Volver a Usuarios II</a>
    </div>
  </body>
</html>
